{% extends "base.html" %}

{% block content %}
    <h1>Customer Management</h1>

    <h2>Add Customer</h2>
    <form id="customerForm">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>

        <label for="phone_number">Phone Number:</label>
        <input type="text" id="phone_number" name="phone_number">

        <label for="address">Address:</label>
        <input type="text" id="address" name="address">

        <button type="submit">Add Customer</button>
    </form>

    <h2>Customer List</h2>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Phone Number</th>
                <th>Address</th>
                <th>Balance Owe</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for customer in customers %}
            <tr>
                <td>{{ customer.id }}</td>
                <td>{{ customer.name }}</td>
                <td>{{ customer.email }}</td>
                <td>{{ customer.phone_number }}</td>
                <td>{{ customer.address }}</td>
                <td>{{ customer.balance_owe }}</td>
                <td>
                    <button onclick="viewTransactions({{ customer.id }})">View Transactions</button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <script>
        function viewTransactions(customerId) {
            window.location.href = `/customers/${customerId}/transactions`;
        }
    </script>
{% endblock %}